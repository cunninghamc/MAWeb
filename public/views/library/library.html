
<div class="container">
    <div class="subpageTitle">
        <h2 hero-id="libraryTitle" class="hero">View Games</h2>

    </div>
    <div class="subpageLogo">
        <img ng-src="/images/LibraryHexLogo.png" hero-id="libraryImg" class="hero" ng-click="libraryClicked();">

    </div>

    <br style="clear: left;" />

    <div class="container">

        <div>
            <div class="container">

                Find Game : <input ng-model="filterString" /><button class="btn btn-primary" ng-click="filterString = ''">Clear</button>


                <div id="dataPage">

                    <div ng-repeat="data in libraryResults | filter: {Game_Name: filterString}">

                        <table>
                            <tr><td class="searchTable"><br /></td></tr>
                            <tr>
                                <td class="searchTable">
                                    <div>
                                        <input class="btnCheck" id="btnCheck{{$index}}" type="checkbox" data-toggle="collapse" data-target="#collapse{{ $index + 1 }}">
                                    </div>
                                </td>
                                <td id="imgCell" class="searchTable">
                                    <img id="thumbImage" src="{{data.Game_Thumbnail}}" />
                                </td>
                                <td class="searchTable">


                                    {{data.Game_Name}}


                                </td>
                            </tr>

                        </table>

                        <div id="collapse{{ $index + 1}}" class="collapse">
                            <table>
                                <tr>
                                    <td>
                                        Min Players:
                                    </td>
                                    <td>
                                        {{data.Game_MinPlayers}}
                                    </td>
                                    <td width="20px"></td>
                                    <td>
                                        Avg Rating:
                                    </td>
                                    <td>
                                        {{avg_rate = calculateAverage(data.Game_Rating);""}}
                                        <span uib-rating ng-model="avg_rate" max="max" read-only=true></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Max Players:
                                    </td>
                                    <td>
                                        {{data.Game_MaxPlayers}}
                                    </td>
                                    <td></td>
                                    <td>
                                        Your Rating:
                                    </td>
                                    <td>
                                        {{my_rate = findMyRating(data.Game_Rating);""}}
                                        {{gameId = data.Game_ObjectId;""}}
                                        <span uib-rating ng-model="my_rate" max="max" read-only=false ng-click="ratingClicked(data.Game_ObjectId);" on-hover="hoveringOver(value)"></span>

                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Play Time:
                                    </td>
                                    <td>
                                        {{data.Game_PlayTime}} min
                                    </td>
                                    <td></td>
                                    <td>
                                        Logged Plays:
                                    </td>
                                    <td>
                                        6
                                    </td>
                                </tr>


                            </table>


                            <!--<button type="button" ng-click="" class="btn btn-success">Change Ratings</button>-->
                            <button type="button" ng-click="" class="btn btn-info">Log Game Play</button>
                            <button type="button" ng-click="redirectToBgg(data.Game_ObjectId)" class="btn btn-warning">View on BGG.com</button>
                            <button type="button" ng-click="removeGame(data.Game_ObjectId)" class="btn btn-danger" data-dismiss="modal">Remove</button>

                            <div class="modal fade" role="dialog" aria-hidden="true" id="modal-signin">
                                <div class="modal-dialog">

                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <h4 class="modal-title">Remove Game Modal</h4>
                                        </div>
                                        <div class="modal-body">
                                            <p>This is where you will login</p>
                                            <div class="form-group">
                                                <input type="text" class="form-control" ng-model="loginStr" id="psw" placeholder="Enter Login">
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" class="btn btn-default btn-success " ng-click="loginScript(loginStr);" data-dismiss="modal">Login</button>
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>